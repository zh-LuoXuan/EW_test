/***********************************************************************************************************************
* Copyright (C) . All rights reserved.
***********************************************************************************************************************/

/***********************************************************************************************************************
* File Name    : main.c
* Version      :
* Device(s)    : BAT32G127
* Tool-Chain   : MDK(armcc)
* Description  : This file is a template.
* Creation Date: 2022/5/30
***********************************************************************************************************************/

/***********************************************************************************************************************
Macro Definitions
***********************************************************************************************************************/

/***********************************************************************************************************************
Includes
***********************************************************************************************************************/
#include <stdio.h>
#include "demo_uart.h"
#include "demo_timer4.h"
#include "demo_delay.h"
#include "common.h"



/***********************************************************************************************************************
Global variables and functions
***********************************************************************************************************************/


uint32_t width = 0;
int main()
{
    uint32_t msCnt;     // count value of 1ms
    
//		float time = 0;
    //-----------------------------------------------------------------------
    // Systick setting
    //-----------------------------------------------------------------------
    SystemCoreClockUpdate();
    msCnt = SystemCoreClock / 1000;
    SysTick_Config(msCnt);
    delay_init(SystemCoreClock);
		

    UART0_Config();

    /*Example4:Tim4 get external wave pluse width¡¢pulse period*/	
#if 1
		TM4_GetPulsePeriod_Init();

		while(1)
		{

			printf("P27/TI01 pulse width  = %d fCLK\n", width);  /* expected value: msCnt */	
		}
#endif
}




